{
  "enabled": true,
  "name": "Roadmap Task Orchestrator",
  "description": "Automatically updates project roadmap and generates next logical tasks when AI completes work",
  "version": "1",
  "when": {
    "type": "sessionEnd"
  },
  "then": {
    "type": "askAgent",
    "prompt": "An AI session has completed with significant work accomplished. Please analyze the completed work, update the project roadmap, and generate next logical tasks for future AI sessions.\n\n**Primary Tasks:**\n\n## 1. Analyze Completed Work\n\n**Review Recent Changes:**\n- Examine all files modified in this session\n- Identify completed features, bug fixes, and improvements\n- Assess the scope and impact of changes made\n- Determine which roadmap items were addressed\n\n**Categorize Accomplishments:**\n- **New Features**: Complete functionality added\n- **Enhancements**: Improvements to existing features\n- **Bug Fixes**: Issues resolved and stability improvements\n- **Infrastructure**: Development tools, CI/CD, performance optimizations\n- **Documentation**: Updated guides, specs, and context files\n\n## 2. Update Project Roadmap\n\n**Create/Update: `.kiro/project-roadmap.md`**\n\n```markdown\n# Cybernex Academy - Project Roadmap\n\n*Last Updated: [timestamp]*\n*Session: [session-id]*\n\n## 🎯 Project Vision\nCybernex Academy is a premier cybersecurity learning platform serving 50,000+ professionals worldwide, combining community, insights, and structured learning.\n\n## 📊 Current Status Overview\n\n### Completion Statistics\n- **Overall Progress**: [X]% complete\n- **Core Features**: [X]/[Y] implemented\n- **API Endpoints**: [X]/[Y] complete\n- **UI Components**: [X]/[Y] built\n- **Testing Coverage**: [X]% covered\n\n### Recent Accomplishments (This Session)\n- ✅ [Feature/Task 1] - Brief description\n- ✅ [Feature/Task 2] - Impact and scope\n- ✅ [Bug Fix] - Issue resolved\n- ✅ [Enhancement] - Improvement made\n\n## 🏗️ Development Phases\n\n### Phase 1: Foundation (Status: [Complete/In Progress/Pending])\n**Core Infrastructure & Authentication**\n- ✅ User authentication system (Supabase Auth)\n- ✅ Database schema and migrations\n- ✅ Basic UI component library\n- ✅ Project structure and configuration\n- 🔄 Role-based access control\n- ⏳ Admin dashboard foundation\n\n### Phase 2: Content Management (Status: [Complete/In Progress/Pending])\n**Resource & Learning Content Systems**\n- ✅ Resource management system\n- ✅ Category and tagging system\n- 🔄 Learning path creation\n- ⏳ Course content management\n- ⏳ Progress tracking system\n- ⏳ Bookmark and favorites\n\n### Phase 3: Community Features (Status: [Complete/In Progress/Pending])\n**User Interaction & Engagement**\n- ⏳ User profiles and customization\n- ⏳ Community forums integration\n- ⏳ Discussion and commenting system\n- ⏳ User-generated content\n- ⏳ Social features and networking\n\n### Phase 4: Intelligence & Analytics (Status: [Complete/In Progress/Pending])\n**Threat Intelligence & Insights**\n- 🔄 News aggregation system\n- ⏳ Threat intelligence feeds\n- ⏳ Security breach tracking\n- ⏳ Analytics dashboard\n- ⏳ Reporting and insights\n\n### Phase 5: Advanced Features (Status: [Complete/In Progress/Pending])\n**Premium & Enterprise Capabilities**\n- ⏳ Subscription management (Stripe)\n- ⏳ Advanced learning analytics\n- ⏳ Enterprise team features\n- ⏳ API access and integrations\n- ⏳ White-label solutions\n\n### Phase 6: Optimization & Scale (Status: [Complete/In Progress/Pending])\n**Performance & Production Readiness**\n- ⏳ Performance optimization\n- ⏳ SEO and marketing features\n- ⏳ Mobile app development\n- ⏳ Advanced security features\n- ⏳ Scalability improvements\n\n## 🎯 Current Sprint Focus\n\n### Active Development (Next 1-2 weeks)\n**High Priority Items:**\n1. **[Current Focus Area]** - [Description and rationale]\n   - Specific tasks and deliverables\n   - Dependencies and blockers\n   - Success criteria\n\n2. **[Secondary Focus]** - [Description]\n   - Related tasks\n   - Timeline and milestones\n\n### Immediate Backlog (Next 2-4 weeks)\n**Medium Priority Items:**\n- [ ] Task 1 - Description and impact\n- [ ] Task 2 - Dependencies and requirements\n- [ ] Task 3 - User value and business impact\n\n## 🔄 Continuous Improvements\n\n### Technical Debt\n- [ ] Code quality improvements identified\n- [ ] Performance optimizations needed\n- [ ] Security enhancements required\n- [ ] Testing coverage gaps\n\n### User Experience\n- [ ] UI/UX improvements based on feedback\n- [ ] Accessibility enhancements\n- [ ] Mobile responsiveness issues\n- [ ] Loading and error state improvements\n\n## 📈 Success Metrics & KPIs\n\n### Development Metrics\n- **Code Quality**: ESLint score, TypeScript coverage\n- **Performance**: Core Web Vitals, API response times\n- **Testing**: Unit test coverage, E2E test pass rate\n- **Security**: Vulnerability scan results, auth audit\n\n### User Metrics\n- **Engagement**: Daily/monthly active users\n- **Learning**: Course completion rates, progress tracking\n- **Community**: Forum participation, content creation\n- **Business**: Subscription conversions, retention rates\n\n## 🚧 Known Issues & Blockers\n\n### Critical Issues\n- [ ] Issue 1 - Impact and urgency\n- [ ] Issue 2 - Workaround and timeline\n\n### Dependencies\n- [ ] External service integration pending\n- [ ] Third-party API access needed\n- [ ] Design assets or content required\n\n## 🎯 Upcoming Milestones\n\n### Short-term (1-4 weeks)\n- **[Date]**: [Milestone] - [Description]\n- **[Date]**: [Feature Launch] - [User impact]\n\n### Medium-term (1-3 months)\n- **[Date]**: [Major Release] - [Key features]\n- **[Date]**: [Integration] - [Business value]\n\n### Long-term (3-6 months)\n- **[Date]**: [Platform Expansion] - [Strategic goal]\n- **[Date]**: [Scale Milestone] - [Growth target]\n\n---\n\n## 📋 Legend\n- ✅ **Complete**: Fully implemented and tested\n- 🔄 **In Progress**: Currently being developed\n- ⏳ **Planned**: Scheduled for future development\n- 🚧 **Blocked**: Waiting on dependencies or decisions\n- ❌ **Cancelled**: No longer planned or needed\n```\n\n## 3. Generate Next Logical Tasks\n\n**Create/Update: `.kiro/next-tasks-queue.md`**\n\n```markdown\n# Next Tasks Queue\n\n*Generated: [timestamp]*\n*Based on completed work and roadmap analysis*\n\n## 🎯 Immediate Priority Tasks (Next Session)\n\n### Task 1: [High Priority Task]\n**Context**: Based on [completed work], the next logical step is [task description]\n**Impact**: [User/business value]\n**Effort**: [Estimated time/complexity]\n**Dependencies**: [Required before starting]\n\n**Detailed Prompt for AI:**\n```\n[Specific, actionable prompt that an AI agent can execute immediately]\n\nRequirements:\n- [Specific requirement 1]\n- [Specific requirement 2]\n- [Success criteria]\n\nDeliverables:\n- [Expected output 1]\n- [Expected output 2]\n\nContext Files to Reference:\n- [Relevant documentation]\n- [Related feature contexts]\n```\n\n### Task 2: [Secondary Priority Task]\n**Context**: [Why this task is next]\n**Impact**: [Expected outcome]\n**Effort**: [Time estimate]\n\n**AI Prompt:**\n```\n[Actionable prompt for AI execution]\n```\n\n## 🔄 Follow-up Tasks (Subsequent Sessions)\n\n### Development Tasks\n1. **[Task Name]** - [Brief description]\n   - **Type**: Feature/Enhancement/Bug Fix/Infrastructure\n   - **Priority**: High/Medium/Low\n   - **Estimated Effort**: [Time/complexity]\n   - **Prerequisites**: [What needs to be done first]\n\n2. **[Task Name]** - [Brief description]\n   - **Dependencies**: [Related tasks or external factors]\n   - **Success Criteria**: [How to measure completion]\n\n### Testing & Quality Assurance\n1. **[Testing Task]** - [What needs testing]\n   - **Scope**: [Areas to cover]\n   - **Tools**: [Testing frameworks/tools to use]\n\n### Documentation & Maintenance\n1. **[Documentation Task]** - [What needs documenting]\n   - **Audience**: [Who will use this documentation]\n   - **Format**: [Type of documentation needed]\n\n## 🧠 Strategic Considerations\n\n### Technical Decisions Needed\n- [ ] [Decision 1] - [Context and options]\n- [ ] [Decision 2] - [Impact and timeline]\n\n### User Experience Improvements\n- [ ] [UX Enhancement 1] - [User benefit]\n- [ ] [UX Enhancement 2] - [Business impact]\n\n### Performance & Scalability\n- [ ] [Performance Task] - [Current bottleneck]\n- [ ] [Scalability Improvement] - [Future-proofing]\n\n## 📊 Task Prioritization Matrix\n\n### High Impact, Low Effort (Quick Wins)\n- [Task] - [Why it's a quick win]\n\n### High Impact, High Effort (Major Projects)\n- [Task] - [Why it's worth the investment]\n\n### Low Impact, Low Effort (Fill-in Tasks)\n- [Task] - [Good for smaller sessions]\n\n### Low Impact, High Effort (Avoid/Defer)\n- [Task] - [Why it's not prioritized]\n\n## 🔗 Task Dependencies\n\n```mermaid\ngraph TD\n    A[Completed Task] --> B[Next Task 1]\n    A --> C[Next Task 2]\n    B --> D[Future Task 1]\n    C --> D\n    D --> E[Milestone]\n```\n\n## 🎯 Success Metrics for Next Tasks\n\n### Completion Criteria\n- [ ] [Specific measurable outcome 1]\n- [ ] [Specific measurable outcome 2]\n- [ ] [User acceptance criteria]\n\n### Quality Gates\n- [ ] Code review passed\n- [ ] Tests written and passing\n- [ ] Documentation updated\n- [ ] Performance benchmarks met\n\n---\n\n## 🤖 AI Session Planning\n\n### Recommended Session Structure\n1. **Context Review** (5 min) - Review relevant documentation\n2. **Task Execution** (30-45 min) - Primary development work\n3. **Testing & Validation** (10-15 min) - Verify implementation\n4. **Documentation Update** (5-10 min) - Update context files\n\n### Context Files to Load\n- [Relevant feature contexts]\n- [API documentation]\n- [Component library guide]\n- [Database schema reference]\n\n### Common Patterns\n- [Development pattern 1] - [When to use]\n- [Development pattern 2] - [Best practices]\n```\n\n## 4. Task Orchestration Logic\n\n**Analyze Completion Patterns:**\n- If API endpoint was created → Generate corresponding UI components\n- If database schema changed → Update TypeScript types and services\n- If new component built → Generate tests and documentation\n- If feature completed → Plan integration with existing features\n- If bug fixed → Add regression tests and monitoring\n\n**Consider Project Context:**\n- **Cybernex Academy Focus**: Cybersecurity education and professional development\n- **User Types**: Students, professionals, instructors, administrators\n- **Business Model**: Freemium with Pro/Enterprise tiers\n- **Technical Stack**: Next.js, TypeScript, Supabase, Tailwind CSS\n\n**Prioritization Factors:**\n1. **User Impact**: Features that directly benefit end users\n2. **Business Value**: Items that drive subscriptions or engagement\n3. **Technical Dependencies**: Foundational work that enables other features\n4. **Risk Mitigation**: Security, performance, and stability improvements\n5. **Completion Momentum**: Tasks that build on recent work\n\n## Instructions:\n1. **Analyze the current session's work** and identify completed items\n2. **Update the project roadmap** with progress and status changes\n3. **Generate 3-5 next logical tasks** with detailed AI prompts\n4. **Prioritize tasks** based on impact, effort, and dependencies\n5. **Create actionable prompts** that future AI sessions can execute immediately\n6. **Consider the broader project context** and strategic goals\n7. **Include success criteria** and quality gates for each task\n\nThe goal is to maintain development momentum by automatically identifying and queuing the next most valuable work for AI agents to tackle."
  }
}